(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{7172:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/geneology/FamilyTree",function(){return n(4678)}])},4678:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return fr}});var t=n(4051),i=n.n(t),o=n(5893),d=n(7294),s=JSON.parse('[{"id":"HkqEDLvxE","gender":"male","parents":[{"id":"011jVS4rb","type":"blood"},{"id":"PXACjDxmR","type":"blood"}],"siblings":[{"id":"kuVISwh7w","type":"blood"},{"id":"UIEjvLJMd","type":"blood"},{"id":"ZVi8fWDBx","type":"blood"}],"spouses":[],"children":[]},{"id":"011jVS4rb","gender":"male","parents":[{"id":"ypu71w9_Q","type":"blood"},{"id":"GEf8zF7A4","type":"blood"}],"children":[{"id":"HkqEDLvxE","type":"blood"},{"id":"kuVISwh7w","type":"blood"},{"id":"UIEjvLJMd","type":"blood"},{"id":"ZVi8fWDBx","type":"blood"}],"siblings":[],"spouses":[{"id":"PXACjDxmR","type":"married"}]},{"id":"PXACjDxmR","gender":"female","parents":[{"id":"2DlrR0fK8","type":"blood"}],"children":[{"id":"HkqEDLvxE","type":"blood"},{"id":"kuVISwh7w","type":"blood"},{"id":"UIEjvLJMd","type":"blood"},{"id":"ZVi8fWDBx","type":"blood"}],"siblings":[{"id":"H-06WvsfJ","type":"blood"}],"spouses":[{"id":"011jVS4rb","type":"married"}]},{"id":"kuVISwh7w","gender":"male","parents":[{"id":"011jVS4rb","type":"blood"},{"id":"PXACjDxmR","type":"blood"}],"children":[{"id":"Fbc9iwnJl","type":"blood"}],"siblings":[{"id":"HkqEDLvxE","type":"blood"},{"id":"UIEjvLJMd","type":"blood"},{"id":"ZVi8fWDBx","type":"blood"}],"spouses":[{"id":"vRSjcaDGj","type":"married"}]},{"id":"UIEjvLJMd","gender":"female","parents":[{"id":"011jVS4rb","type":"blood"},{"id":"PXACjDxmR","type":"blood"}],"children":[{"id":"6_OTJvbvS","type":"blood"},{"id":"JhSCcdFEP","type":"blood"},{"id":"6hNxNY1-I","type":"blood"}],"siblings":[{"id":"HkqEDLvxE","type":"blood"},{"id":"kuVISwh7w","type":"blood"},{"id":"ZVi8fWDBx","type":"blood"}],"spouses":[{"id":"RZbkr5vAi","type":"married"}]},{"id":"RZbkr5vAi","gender":"male","parents":[],"children":[{"id":"6_OTJvbvS","type":"blood"},{"id":"JhSCcdFEP","type":"blood"},{"id":"6hNxNY1-I","type":"blood"}],"siblings":[],"spouses":[{"id":"UIEjvLJMd","type":"married"}]},{"id":"vRSjcaDGj","gender":"female","parents":[{"id":"6vASIIxhd","type":"blood"},{"id":"iFiwqrWx-","type":"blood"}],"children":[{"id":"Fbc9iwnJl","type":"blood"}],"siblings":[],"spouses":[{"id":"kuVISwh7w","type":"married"}]},{"id":"Fbc9iwnJl","gender":"female","parents":[{"id":"kuVISwh7w","type":"blood"},{"id":"vRSjcaDGj","type":"blood"}],"children":[],"siblings":[],"spouses":[]},{"id":"ypu71w9_Q","gender":"male","parents":[{"id":"TsyAkbF89","type":"blood"},{"id":"T54Km7uOC","type":"blood"}],"children":[{"id":"011jVS4rb","type":"blood"}],"siblings":[],"spouses":[{"id":"GEf8zF7A4","type":"married"}]},{"id":"GEf8zF7A4","gender":"female","parents":[{"id":"gsgwGS_Kw","type":"blood"},{"id":"ZgTZx9uXQ","type":"blood"}],"children":[{"id":"011jVS4rb","type":"blood"}],"siblings":[],"spouses":[{"id":"ypu71w9_Q","type":"married"}]},{"id":"2DlrR0fK8","gender":"male","parents":[],"children":[{"id":"PXACjDxmR","type":"blood"},{"id":"H-06WvsfJ","type":"blood"}],"siblings":[],"spouses":[]},{"id":"gsgwGS_Kw","gender":"male","parents":[],"children":[{"id":"GEf8zF7A4","type":"blood"}],"siblings":[],"spouses":[{"id":"ZgTZx9uXQ","type":"married"}]},{"id":"ZgTZx9uXQ","gender":"female","parents":[],"children":[{"id":"GEf8zF7A4","type":"blood"}],"siblings":[],"spouses":[{"id":"gsgwGS_Kw","type":"married"}]},{"id":"ZVi8fWDBx","gender":"male","parents":[{"id":"011jVS4rb","type":"blood"},{"id":"PXACjDxmR","type":"blood"}],"children":[],"siblings":[{"id":"HkqEDLvxE","type":"blood"},{"id":"kuVISwh7w","type":"blood"},{"id":"UIEjvLJMd","type":"blood"}],"spouses":[{"id":"wJ1EBvc5m","type":"married"}]},{"id":"6_OTJvbvS","gender":"male","parents":[{"id":"RZbkr5vAi","type":"blood"},{"id":"UIEjvLJMd","type":"blood"}],"children":[],"siblings":[{"id":"JhSCcdFEP","type":"blood"},{"id":"6hNxNY1-I","type":"blood"}],"spouses":[]},{"id":"JhSCcdFEP","gender":"female","parents":[{"id":"RZbkr5vAi","type":"blood"},{"id":"UIEjvLJMd","type":"blood"}],"children":[{"id":"Z0QA5oKks","type":"blood"}],"siblings":[{"id":"6_OTJvbvS","type":"blood"},{"id":"6hNxNY1-I","type":"blood"}],"spouses":[{"id":"ilad8NH6g","type":"married"}]},{"id":"6hNxNY1-I","gender":"male","parents":[{"id":"RZbkr5vAi","type":"blood"},{"id":"UIEjvLJMd","type":"blood"}],"children":[],"siblings":[{"id":"6_OTJvbvS","type":"blood"},{"id":"JhSCcdFEP","type":"blood"}],"spouses":[]},{"id":"ilad8NH6g","gender":"male","parents":[],"children":[{"id":"Z0QA5oKks","type":"blood"}],"siblings":[],"spouses":[{"id":"JhSCcdFEP","type":"married"}]},{"id":"Z0QA5oKks","gender":"male","parents":[{"id":"ilad8NH6g","type":"blood"},{"id":"JhSCcdFEP","type":"blood"}],"children":[],"siblings":[],"spouses":[]},{"id":"wJ1EBvc5m","gender":"female","parents":[],"children":[],"siblings":[],"spouses":[{"id":"ZVi8fWDBx","type":"married"}]},{"id":"TsyAkbF89","gender":"male","parents":[],"children":[{"id":"ypu71w9_Q","type":"blood"}],"siblings":[],"spouses":[{"id":"T54Km7uOC","type":"married"}]},{"id":"T54Km7uOC","gender":"female","parents":[],"children":[{"id":"ypu71w9_Q","type":"blood"}],"siblings":[],"spouses":[{"id":"TsyAkbF89","type":"married"}]},{"id":"6vASIIxhd","gender":"male","parents":[],"children":[{"id":"vRSjcaDGj","type":"blood"}],"siblings":[],"spouses":[{"id":"iFiwqrWx-","type":"married"}]},{"id":"iFiwqrWx-","gender":"female","parents":[],"children":[{"id":"vRSjcaDGj","type":"blood"}],"siblings":[],"spouses":[{"id":"6vASIIxhd","type":"married"}]},{"id":"H-06WvsfJ","gender":"female","parents":[{"id":"2DlrR0fK8","type":"blood"}],"children":[],"siblings":[{"id":"PXACjDxmR","type":"blood"}],"spouses":[]}]'),a=JSON.parse('[{"id":"jsyRsE5sr","gender":"male","parents":[],"siblings":[],"spouses":[{"id":"pdRwdtR54","type":"married"}],"children":[]},{"id":"pdRwdtR54","gender":"female","parents":[],"siblings":[],"spouses":[{"id":"jsyRsE5sr","type":"married"}],"children":[]}]'),l=JSON.parse('[{"id":"dyTpfj6st","gender":"male","spouses":[],"siblings":[],"parents":[{"id":"aoF9dn5Ew","type":"blood"},{"id":"tdRwdtR54","type":"blood"}],"children":[]},{"id":"ahfR5lR2s","gender":"female","spouses":[{"id":"aoF9dn5Ew","type":"married"}],"siblings":[],"parents":[],"children":[]},{"id":"aoF9dn5Ew","gender":"male","spouses":[{"id":"ahfR5lR2s","type":"married"},{"id":"tdRwdtR54","type":"divorced"}],"siblings":[],"parents":[],"children":[{"id":"dyTpfj6st","type":"blood"}]},{"id":"tdRwdtR54","gender":"female","parents":[],"siblings":[],"spouses":[{"id":"aoF9dn5Ew","type":"divorced"}],"children":[{"id":"dyTpfj6st","type":"adopted"}]}]'),u=JSON.parse('[{"id":"user1","gender":"male","parents":[{"id":"user5","type":"blood"},{"id":"user6","type":"blood"}],"siblings":[{"id":"user4","type":"blood"}],"spouses":[],"children":[{"id":"user3","type":"blood"}]},{"id":"user2","gender":"female","parents":[],"siblings":[],"spouses":[{"id":"user5","type":"married"}],"children":[]},{"id":"user3","gender":"male","parents":[{"id":"user1","type":"blood"}],"siblings":[],"spouses":[],"children":[]},{"id":"user4","gender":"female","parents":[{"id":"user5","type":"blood"},{"id":"user6","type":"blood"}],"siblings":[{"id":"user1","type":"blood"}],"spouses":[],"children":[]},{"id":"user5","gender":"male","parents":[],"siblings":[],"spouses":[{"id":"user6","type":"divorced"},{"id":"user2","type":"married"}],"children":[{"id":"user1","type":"blood"},{"id":"user4","type":"blood"}]},{"id":"user6","gender":"female","parents":[],"siblings":[],"spouses":[{"id":"user5","type":"divorced"}],"children":[{"id":"user1","type":"blood"},{"id":"user4","type":"blood"}]}]'),c=JSON.parse('[{"id":"gRstruEr4","gender":"male","parents":[],"siblings":[],"spouses":[],"children":[]}]'),p=JSON.parse('[{"id":"js2RsE5sr","gender":"male","parents":[],"siblings":[],"spouses":[{"id":"pdRwdtR54","type":"married"},{"id":"tdRwdtR54","type":"divorced"}],"children":[]},{"id":"pdRwdtR54","gender":"female","parents":[],"siblings":[],"spouses":[{"id":"js2RsE5sr","type":"married"}],"children":[]},{"id":"tdRwdtR54","gender":"female","parents":[],"siblings":[],"spouses":[{"id":"js2RsE5sr","type":"divorced"}],"children":[]}]'),f=JSON.parse('[{"id":"dyTpfj6sr","gender":"male","spouses":[],"siblings":[],"parents":[],"children":[{"id":"ahfR5lR2s","type":"blood"},{"id":"aoF9dn5Ew","type":"blood"}]},{"id":"ahfR5lR2s","gender":"female","spouses":[],"siblings":[],"parents":[{"id":"dyTpfj6sr","type":"blood"}],"children":[]},{"id":"aoF9dn5Ew","gender":"male","spouses":[],"siblings":[],"parents":[{"id":"dyTpfj6sr","type":"blood"}],"children":[]}]'),y=JSON.parse('[{"id":"aeqW","gender":"male","parents":[],"siblings":[],"spouses":[{"id":"wIFr","type":"married"},{"id":"aCZW","type":"divorced"}],"children":[{"id":"s9HE","type":"blood"},{"id":"YzLf","type":"blood"},{"id":"uJK9","type":"blood"}]},{"id":"wIFr","gender":"female","parents":[],"siblings":[],"spouses":[{"id":"aeqW","type":"married"}],"children":[{"id":"YzLf","type":"blood"},{"id":"uJK9","type":"blood"}]},{"id":"aCZW","gender":"female","parents":[],"siblings":[],"spouses":[{"id":"aeqW","type":"divorced"}],"children":[{"id":"s9HE","type":"blood"}]},{"id":"s9HE","gender":"male","parents":[{"id":"aeqW","type":"blood"},{"id":"aCZW","type":"blood"}],"siblings":[],"spouses":[{"id":"l8un","type":"married"}],"children":[]},{"id":"l8un","gender":"female","parents":[],"siblings":[],"spouses":[{"id":"s9HE","type":"married"}],"children":[]},{"id":"YzLf","gender":"female","parents":[{"id":"aeqW","type":"blood"},{"id":"wIFr","type":"blood"}],"siblings":[{"id":"uJK9","type":"blood"}],"spouses":[{"id":"5ejU","type":"married"}],"children":[{"id":"c3EI","type":"blood"},{"id":"MEHb","type":"blood"},{"id":"lhDs","type":"blood"},{"id":"13Uo","type":"blood"}]},{"id":"5ejU","gender":"male","parents":[],"siblings":[],"spouses":[{"id":"YzLf","type":"married"}],"children":[{"id":"c3EI","type":"blood"},{"id":"MEHb","type":"blood"},{"id":"lhDs","type":"blood"},{"id":"13Uo","type":"blood"}]},{"id":"c3EI","gender":"male","parents":[{"id":"YzLf","type":"blood"},{"id":"5ejU","type":"blood"}],"siblings":[{"id":"MEHb","type":"blood"},{"id":"lhDs","type":"blood"},{"id":"13Uo","type":"blood"}],"spouses":[],"children":[{"id":"yZwk","type":"blood"}]},{"id":"yZwk","gender":"female","parents":[{"id":"c3EI","type":"blood"}],"siblings":[],"spouses":[{"id":"_qhe","type":"married"}],"children":[]},{"id":"_qhe","gender":"male","parents":[],"siblings":[],"spouses":[{"id":"yZwk","type":"married"}],"children":[]},{"id":"MEHb","gender":"male","parents":[{"id":"YzLf","type":"blood"},{"id":"5ejU","type":"blood"}],"siblings":[{"id":"c3EI","type":"blood"},{"id":"lhDs","type":"blood"},{"id":"13Uo","type":"blood"}],"spouses":[],"children":[]},{"id":"lhDs","gender":"male","parents":[{"id":"YzLf","type":"blood"},{"id":"5ejU","type":"blood"}],"siblings":[{"id":"c3EI","type":"blood"},{"id":"MEHb","type":"blood"},{"id":"13Uo","type":"blood"}],"spouses":[],"children":[]},{"id":"13Uo","gender":"male","parents":[{"id":"YzLf","type":"blood"},{"id":"5ejU","type":"blood"}],"siblings":[{"id":"c3EI","type":"blood"},{"id":"MEHb","type":"blood"},{"id":"lhDs","type":"blood"}],"spouses":[],"children":[]},{"id":"uJK9","gender":"male","parents":[{"id":"aeqW","type":"blood"},{"id":"wIFr","type":"blood"}],"siblings":[{"id":"YzLf","type":"blood"}],"spouses":[],"children":[]}]'),h=JSON.parse('[{"id":"uJK9","gender":"male","parents":[],"siblings":[],"spouses":[{"id":"wIFr","type":"married"},{"id":"aCZW","type":"divorced"}],"children":[{"id":"s9HE","type":"blood"}]},{"id":"wIFr","gender":"female","parents":[],"siblings":[],"spouses":[{"id":"uJK9","type":"married"}],"children":[]},{"id":"aCZW","gender":"female","parents":[],"siblings":[],"spouses":[{"id":"uJK9","type":"divorced"}],"children":[{"id":"s9HE","type":"blood"}]},{"id":"s9HE","gender":"male","parents":[{"id":"uJK9","type":"blood"},{"id":"aCZW","type":"blood"}],"siblings":[],"spouses":[],"children":[]}]'),b=n(6961),m=n.n(b),g=n(6126),v=n(4184),j=n.n(v),w=n(453),E=n.n(w),S=d.memo((function(e){var r=e.node,n=e.isRoot,t=e.onSubClick,i=e.style,d=e.children,s=e.photoSrc,a=e.name;return(0,o.jsxs)("div",{className:E().root,style:i,title:r.id,children:[(0,o.jsx)("div",{className:j()(E().inner,E()[r.gender],n&&E().isRoot),children:(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,o.jsx)("img",{height:"75%",src:s}),(0,o.jsx)("p",{style:{fontSize:".5rem"},children:a}),d]})}),r.hasSubTree&&(0,o.jsx)("div",{className:j()(E().sub,E()[r.gender]),onClick:function(){return t(r.id)}})]})}));function x(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function I(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){x(e,r,n[r])}))}return e}var A=function(e){return e+1},O=function(e){return function(r){return r[e]}},_=function(e){return function(r){return r.id===e}},R=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){return e.includes(n.id)===r}},N=function(e,r,n){return n.indexOf(e)===r},F=function(e,r){return e-r},k=function(e){return Math.min.apply(null,e)},J=function(e){return Math.max.apply(null,e)},T=function(e){return function(r,n){return n.gender!==e?-1:1}},C=function(e){return function(r){return e.getNode(r.id)}},D=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(e){return r.includes(e.type)}};function M(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function P(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return M(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Z=function(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{fid:e,child:n,nodes:P(r),pos:0}},U=function(e){return e.nodes.map(O("id"))},Y=function(e){return e.nodes.length},H=function(e){return e.nodes.some((function(e){return e.children.length}))},L=function(e){return e.pos+2*Y(e)},X=function(e){return function(r){return U(e).join("")===U(r).join("")}},V=function(e,r){return e.X+r.pos},W=function(e){return e.map(O("nodes")).flat()},K=function(e){e.forEach((function(e,r,n){return e.pos=0===r?0:L(n[r-1])}))},z=function(e,r){return e.forEach((function(e){return e.pos+=r}))};function q(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function G(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return q(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var B,Q,$,ee=function(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{id:e,type:r,main:n,Y:0,X:0,parents:[],children:[]}},re=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(e){return r.includes(e.type)}},ne=function(e){return J(G(e.parents).concat(G(e.children)).map(L))},te=function(e){return 2*[e.parents.length,e.children.length].filter(Boolean).length},ie=function(e){return e.X+ne(e)},oe=function(e){return e.Y+te(e)},de=function(e){return e.reduce((function(e,r){return e+Y(r)}),0)},se=function(e,r){return r?V(e,r)+Y(r):0};function ae(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}!function(e){e.male="male",e.female="female"}(B||(B={})),function(e){e.blood="blood",e.married="married",e.divorced="divorced",e.adopted="adopted",e.half="half"}(Q||(Q={})),function(e){e.root="root",e.child="child",e.parent="parent"}($||($={}));var le=function(){function e(r,n){if(function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),!r.find(_(n)))throw new ReferenceError;this.nextId=0,this.families=new Map,this.nodes=new Map(r.map((function(e){return[e.id,I({},e)]}))),this.root=this.nodes.get(n)}var r,n,t,i=e.prototype;return i.getNextId=function(){return++this.nextId},i.getNode=function(e){return this.nodes.get(e)},i.getNodes=function(e){var r=this;return e.map((function(e){return r.getNode(e)}))},i.getFamily=function(e){return this.families.get(e)},r=e,(n=[{key:"familiesArray",get:function(){return Array.from(this.families.values())}},{key:"rootFamilies",get:function(){return this.familiesArray.filter(re($.root))}},{key:"rootFamily",get:function(){return this.rootFamilies.find((function(e){return e.main}))}}])&&ae(r.prototype,n),t&&ae(r,t),e}(),ue=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q.blood;return{id:e,type:r}},ce=function(e){return{id:"".concat(e,"-ph"),placeholder:!0,gender:e,parents:[],siblings:[],spouses:[],children:[]}},pe=function(e){if(!e.root.parents.length){var r=function(e){return function(r){return r.parents=e.slice()}}(function(e){var r=ce(B.male),n=ce(B.female);return r.spouses=[ue(n.id,Q.married)],n.spouses=[ue(r.id,Q.married)],[r,n].map((function(r){return r.children=e.root.siblings.concat(ue(e.root.id)),e.nodes.set(r.id,r),ue(r.id)}))}(e));r(e.root),e.root.siblings.map(C(e)).forEach(r)}return e};function fe(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function ye(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,i,o=[],d=!0,s=!1;try{for(n=n.call(e);!(d=(t=n.next()).done)&&(o.push(t.value),!r||o.length!==r);d=!0);}catch(a){s=!0,i=a}finally{try{d||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return fe(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var he=function(e,r){return r.children.length-e.children.length},be=function(e,r){var n=C(e),t=r.find(D(Q.married));return t?n(t):r.length>=1?r.map(n).sort(he)[0]:void 0},me=function(e){return function(r){return r.id!==e.id}},ge=function(e){var r=C(e);return function(n){var t=n;2!==t.length&&(t=function(e,r){return[r,be(e,r.spouses)].filter((function(e){return Boolean(e)})).sort(T(e.root.gender))}(e,t[0]));var i={left:[],middle:t,right:[]};if(2===t.length){var o=ye(t,2),d=o[0],s=o[1];i.left=d.spouses.filter(me(s)).map(r),i.right=s.spouses.filter(me(d)).map(r)}return i}};function ve(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function je(e){return function(e){if(Array.isArray(e))return ve(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return ve(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var we=function(e){return e.map((function(e){return Array.of(e)}))},Ee=function(e){var r=ge(e);return function(e,n){var t=r([n]),i=t.left,o=t.middle,d=t.right;return je(we(i)).concat([o],je(we(d))).map((function(r){return Z(e,r,!0)}))}},Se=function(e){var r=[e.parents,e.children];r.forEach(K),function(e){var r=de(e.parents)-de(e.children);0!==r&&(r>0?z(e.children,r):z(e.parents,Math.abs(r)))}(e);var n=k(r.flat().map(O("pos")));0!==n&&r.forEach((function(e){return z(e,-1*n)}))};function xe(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function Ie(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,i,o=[],d=!0,s=!1;try{for(n=n.call(e);!(d=(t=n.next()).done)&&(o.push(t.value),!r||o.length!==r);d=!0);}catch(a){s=!0,i=a}finally{try{d||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return xe(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ae=function(e){var r=C(e),n=Ee(e);return function(e,t){var i,o=Ie(t,2),d=o[0],s=o[1];return d.children.filter((i=s,function(e){return!i||i.children.some(_(e.id))})).flatMap((function(t){return n(e,r(t))}))}},Oe=function(e){var r=Ae(e);return function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$.root,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=ee(e.getNextId(),t,i),d=n.map((function(r){return e.getNode(r)})).sort(T(e.root.gender));return o.parents=[Z(o.id,d)],o.children=r(o.id,d),Se(o),o}};function _e(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function Re(e){return function(e){if(Array.isArray(e))return _e(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return _e(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ne=function(e,r){var n=W(e.children).filter(function(e){var r=W(e);return function(e){return r.some(_(e.id))}}(r.children)).map(O("id")),t=e.children.map(O("pos"));e.children=Re(e.children).sort(function(e){return function(r,n){var t=r.nodes.some(R(e)),i=n.nodes.some(R(e));return t&&!i?1:!t&&i?-1:0}}(n)),e.children.forEach((function(e,r){return e.pos=t[r]})),r.children=r.children.filter((function(e){return e.nodes.some(R(n,!1))})),Se(r)},Fe=function(e,r){return e.parents.filter(D(r)).map(O("id"))},ke=function(e){return function(r){var n=ee(e.getNextId(),$.parent),t=Z(n.id,e.getNodes(r),!0);return n.children=[t],n.parents=function(e,r){return r.nodes.reduce((function(n,t){var i=e.getNodes(t.parents.map(O("id"))).sort(T(e.root.gender));return i.length&&n.push(Z(r.fid,i)),n}),[])}(e,t),function(e){K(e.children),K(e.parents)}(n),n}},Je=function(e,r){var n=e.children[0],t=r.parents.findIndex(X(n));0===t&&0===r.parents[t].pos?r.X=V(e,n):r.parents[t].pos=V(e,n)-r.X;var i=A(t);r.parents[i]&&z(r.parents.slice(i),ie(e)-V(r,r.parents[i]))},Te=function(e){return e.parents.filter((function(e){return e.nodes.some((function(e){return!!e.parents.length}))}))},Ce=function(e){!e.parents.length||e.children.length<=1||e.parents.forEach((function(r){var n=r.nodes[0].children.map(O("id"));r.pos=Math.floor(function(e){var r=(e[0]+e[e.length-1])/2;return Number.isNaN(r)?0:r}(function(e,r){return e.reduce((function(e,n){var t=n.nodes.findIndex(R(r));return-1!==t&&e.push(n.pos+2*t),e}),[])}(e.children,n))-(de(e.parents)-1))}))},De=function(e,r,n){var t=e.parents[0],i=r.children.findIndex(X(t));0===i?r.X=V(e,t)-r.children[i].pos:r.children[i].pos=V(e,t)-r.X;var o=A(i);r.children[o]&&z(r.children.slice(o),n-V(r,r.children[o]))},Me=function(e,r,n){var t=A(e.findIndex(_(r))),i=e[t];if(i)for(var o=n-i.X,d=t;d<e.length;d++)e[d].X+=o},Pe=function(e){return e.children.filter(H).reverse()},Ze=function(e){return function(r,n){var t=se(e,n),i=e.Y+1,o=e.Y+2;2===Y(n)&&r.push([t-1,i,t+1,i]),r.push([t,i,t,o]);var d=e.children[0],s=V(e,d)+2*d.nodes.findIndex(R(function(e){return e.nodes.map(O("children")).flat().map(O("id"))}(n)))+1;return r.push([s,o,s,o+1]),t!==s&&r.push([Math.min(t,s),o,Math.max(t,s),o]),r}},Ue=function(e){return e.filter(re($.parent)).reduce((function(e,r){return e.concat(r.parents.reduce(Ze(r),[]))}),[])},Ye=function(e){var r=e.filter(re($.root));return r.reduce((function(e,n){return e.concat(n.parents.reduce(function(e,r){return function(n,t){var i=V(e,t)+1,o=e.Y+1;return 2===Y(t)?n.push([i,o,i+2,o]):1===Y(t)&&t.nodes[0].spouses.length&&r.filter((function(r){return r.id!==e.id})).forEach((function(e){e.parents.forEach((function(r){if(r.nodes.some(_(t.nodes[0].spouses[0].id))){var d=[i,V(e,r)+1].sort(F);n.push([d[0],o,d[1],o])}}))})),n}}(n,r),[]))}),[])},He=function(e){return e.filter(re($.root,$.child)).reduce((function(e,r){var n=r.parents[0],t=se(r,n),i=r.Y+(n?2:0);if(n&&n.nodes.every((function(e){return!!e.children.length}))){var o=r.Y+1;e.push([t,o,t,i])}var d=r.parents.map(U).flat(),s=[];return r.children.forEach((function(n){var t=V(r,n)+1;n.nodes.forEach((function(r,n){if(r.parents.some(R(d))){var o=t+2*n;s.push(o),e.push([o,i,o,i+1])}})),2===Y(n)?e.push([t,i+1,t+2,i+1]):1===Y(n)&&n.nodes[0].spouses.length&&r.children.forEach((function(o){if(o.nodes.some(_(n.nodes[0].spouses[0].id))){var d=[t,V(r,o)+1].sort(F);e.push([d[0],i+1,d[1],i+1])}}))})),s.length>1?e.push([k(s),i,J(s),i]):1===s.length&&t!==s[0]&&e.push([Math.min(t,s[0]),i,Math.max(t,s[0]),i]),e}),[])},Le=function(e){return[Ue,Ye,He].map(function(e){return function(r){return r(e)}}(e)).flat()},Xe=function(e,r){var n=-1*k(e.map(O(r)));0!==n&&e.forEach((function(e){return e[r]+=n}))},Ve=function(e){return{width:J(e.map(ie)),height:J(e.map(oe))}},We=function(e,r){return e.some((function(e){return e.nodes.some(_(r))}))},Ke=function(e,r){if(e.type!==$.child&&We(e.parents,r.id))return e.type===$.parent&&(r.children.length>1||r.spouses.length>1)||!r.parents.length&&!!r.siblings.length;if(e.type!==$.parent&&We(e.children,r.id)){var n=e.parents.length?U(e.parents[0]):[];return!r.parents.some(R(n))&&(!!r.parents.length||!!r.siblings.length)}return!1};function ze(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var qe=function(e){return function(r){return r.nodes.map((function(n,t){return function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){ze(e,r,n[r])}))}return e}({},n,{top:e.Y+(r.child&&e.parents.length?2:0),left:V(e,r)+2*t,hasSubTree:Ke(e,n)})}))}},Ge=function(e){return([$.root,$.parent].includes(e.type)?e.parents:[]).map(qe(e))},Be=function(e){return([$.root,$.child].includes(e.type)?e.children:[]).map(qe(e))},Qe=function(e){return[Ge(e),Be(e)].flat(2)},$e=function(e){return e.map(Qe).flat()},er=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(e){return r.reduce((function(e,r){return r(e)}),e)}}((function(e){var r=e.root.parents.length?e.root.parents.map(O("type")).filter(N).length>1?function(e){var r=Oe(e),n=r(Fe(e.root,Q.blood),$.root,!0),t=r(Fe(e.root,Q.adopted));return Ne(n,t),[n,t]}(e):function(e){var r=Oe(e),n=r(e.root.parents.map(O("id")),$.root,!0),t=W(n.parents);if(2===t.length){var i=ge(e)(t),o=i.left,d=i.right;return[o.map((function(e){return r([e.id])})),n,d.map((function(e){return r([e.id])}))].flat()}return[n]}(e):function(e){var r=ee(e.getNextId(),$.root,!0);return r.children=Ee(e)(r.id,e.root),Se(r),[r]}(e);return function(e){for(var r=1;r<e.length;r++)e[r].X=ie(e[r-1])}(r),r.forEach((function(r){return e.families.set(r.id,r)})),e}),(function(e){for(var r=ke(e),n=function(e){return function(r,n){var t=e.getFamily(n.fid);r.cid=t.id,r.Y=t.Y-2,r.X=V(t,n)}}(e),t=function(e){return function(r){for(;r.cid;){var n=e.getFamily(r.cid),t=r.children[0];n.cid?(2===r.parents.length&&de(r.parents)>2&&(t.pos=Math.floor(r.parents[1].pos/2)),Je(r,n)):t.pos=(ne(r)-2*Y(t))/2,r=n}}}(e),i=Te(e.rootFamily);i.length;){var o=i.pop(),d=r(U(o));n(d,o),t(d),e.families.set(d.id,d),i=i.concat(Te(d))}return e}),(function(e){var r=Oe(e),n=function(e){return function(r,n){var t=e.getFamily(n.fid);r.pid=t.id,r.Y=t.Y+te(t)-2,r.X=V(t,n)}}(e),t=function(e){return function(r){for(var n=0;r.pid;){n=Math.max(n,ie(r));var t=e.getFamily(r.pid);De(r,t,n),Ce(t),t.pid||Me(e.rootFamilies,t.id,ie(t)),r=t}}}(e);return e.familiesArray.filter(re($.root)).forEach((function(i){for(var o=Pe(i);o.length;){var d=o.pop(),s=r(U(d),$.child);n(s,d),t(s),e.families.set(s.id,s),o=o.concat(Pe(s))}})),e}),(function(e){var r=e.familiesArray;return function(e,r){var n=e.find((function(e){return e.cid===r.id}));if(n){var t=V(n,n.children[0])-V(r,r.parents[0]);e.filter(re($.child,$.root)).forEach((function(e){return e.X+=t}))}}(r,e.rootFamily),Xe(r,"Y"),Xe(r,"X"),e}));function rr(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function nr(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,i,o=[],d=!0,s=!1;try{for(n=n.call(e);!(d=(t=n.next()).done)&&(o.push(t.value),!r||o.length!==r);d=!0);}catch(a){s=!0,i=a}finally{try{d||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return rr(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rr(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tr=d.memo((function(e){var r=e.connector,n=e.width,t=e.height,i=nr(r,4),d=i[0],s=i[1],a=i[2],l=i[3];return(0,o.jsx)("i",{style:{position:"absolute",width:Math.max(1,(a-d)*n+1),height:Math.max(1,(l-s)*t+1),background:"#999",transform:"translate(".concat(d*n,"px, ").concat(s*t,"px)"),pointerEvents:"none"}})})),ir=d.memo((function(e){var r=function(e,r){var n=new le(e,r.rootId);r.placeholders&&pe(n);var t=er(n).familiesArray;return{families:t,canvas:Ve(t),nodes:$e(t),connectors:Le(t)}}(e.nodes,{rootId:e.rootId,placeholders:e.placeholders}),n=e.width/2,t=e.height/2;return(0,o.jsxs)("div",{className:e.className,style:{position:"relative",width:r.canvas.width*n,height:r.canvas.height*t},children:[r.connectors.map((function(e,r){return(0,o.jsx)(tr,{connector:e,width:n,height:t},r)})),r.nodes.map(e.renderNode)]})})),or=n(728),dr=n.n(or);function sr(e,r){if(null==e)return{};var n,t,i=function(e,r){if(null==e)return{};var n,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||(i[n]=e[n]);return i}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ar=function(e){var r=e.nodes,n=e.rootId,t=e.setRootId;return(0,o.jsx)(g.d$,{centerOnInit:!0,initialScale:1,children:function(e){var i=e.zoomIn,d=e.zoomOut,s=e.resetTransform;sr(e,["zoomIn","zoomOut","resetTransform"]);return(0,o.jsxs)("div",{className:dr().wrapper,children:[(0,o.jsxs)("div",{className:"tools",children:[(0,o.jsx)("button",{onClick:function(){return i()},children:"+"}),(0,o.jsx)("button",{onClick:function(){return d()},children:"-"}),(0,o.jsx)("button",{onClick:function(){return s()},children:"x"})]}),(0,o.jsx)(g.Uv,{wrapperStyle:{width:"100%",height:"100%"},children:(0,o.jsx)(ir,{nodes:r,rootId:n,width:80,height:110,className:dr().tree,renderNode:function(e){return(0,o.jsx)(S,{node:e,isRoot:e.id===n,onSubClick:t,photoSrc:"https://i.pravatar.cc/150?u=".concat(e.id),name:e.id,style:{width:80,height:110,transform:"translate(".concat(40*e.left,"px, ").concat(55*e.top,"px)")}},e.id)}})})]})}})};function lr(e,r,n,t,i,o,d){try{var s=e[o](d),a=s.value}catch(l){return void n(l)}s.done?r(a):Promise.resolve(a).then(t,i)}function ur(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var cr={"average-tree.json":s,"couple.json":a,"diff-parents.json":l,"divorced-parents.json":u,"empty.json":c,"several-spouses.json":p,"simple-family.json":f,"test-tree-n1.json":y,"test-tree-n2.json":h},pr="URL (Gist, Paste.bin, ...)",fr=d.memo((function(){var e=(0,d.useState)("average-tree.json"),r=e[0],n=e[1],t=(0,d.useState)([]),s=t[0],a=t[1],l=(0,d.useState)(""),u=l[0],c=l[1],p=(0,d.useState)(""),f=p[0],y=p[1];(0,d.useEffect)((function(){var e;(e=i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("loadData",r,pr),r!==pr){e.next=11;break}return e.next=5,fetch(prompt("Paste the url to load:")||"");case 5:return t=e.sent,e.next=8,t.json();case 8:n=e.sent,e.next=12;break;case 11:n=cr[r];case 12:n&&(a([]),y(n[0].id),c(n[0].id),a(n));case 13:case"end":return e.stop()}}),e)})),function(){var r=this,n=arguments;return new Promise((function(t,i){var o=e.apply(r,n);function d(e){lr(o,t,i,d,s,"next",e)}function s(e){lr(o,t,i,d,s,"throw",e)}d(void 0)}))})()}),[r]);(0,d.useCallback)((function(){return y(u)}),[u]);var h=function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){ur(e,r,n[r])}))}return e}({},cr,ur({},pr,[]));return(0,o.jsxs)("div",{className:m().root,children:[(0,o.jsxs)("header",{className:m().header,children:[(0,o.jsx)("h1",{className:m().title,children:"FamilyTree demo"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:"Source: "}),(0,o.jsx)("select",{onChange:function(e){n(e.target.value)},defaultValue:r,children:Object.keys(h).map((function(e){return(0,o.jsx)("option",{value:e,children:e},e)}))})]}),(0,o.jsx)("a",{href:"https://github.com/SanichKotikov/react-family-tree-example",children:"GitHub"})]}),s.length>0&&(0,o.jsx)(ar,{nodes:s,rootId:f,setRootId:y})]})}))},453:function(e){e.exports={root:"FamilyNode_root__okvxL",inner:"FamilyNode_inner__Vadrl",male:"FamilyNode_male__Ebc9n",female:"FamilyNode_female___e3I6",isRoot:"FamilyNode_isRoot__Yun8a",sub:"FamilyNode_sub__l5dHj"}},728:function(e){e.exports={tree:"Tree_tree__E0u6A",wrapper:"Tree_wrapper__4ZdDd"}},6961:function(e){e.exports={root:"FamilyTree_root__wfgVf",header:"FamilyTree_header__bQ1w2",title:"FamilyTree_title__RqZBn",wrapper:"FamilyTree_wrapper__aFdts",reset:"FamilyTree_reset__5z07_"}}},function(e){e.O(0,[131,774,888,179],(function(){return r=7172,e(e.s=r);var r}));var r=e.O();_N_E=r}]);